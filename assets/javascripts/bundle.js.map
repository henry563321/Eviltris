{"version":3,"sources":["webpack/bootstrap 157a38e3db12e31a0c22","./frontend/index.js","./frontend/control.js","./frontend/pieces.js","./frontend/board.js","./frontend/helper.js"],"names":["document","addEventListener","canvas","getElementById","control","Controller","counter","piece","board","score","showscore","keyboard","bind","dropdown","drop","setInterval","scoreboard","ctx","getContext","font","clearRect","fillText","nextPiece","Object","assign","y","removeBoard","removeItems","merge","linetest","gameover","displayBoard","displayItems","forEach","row","posx","item","posy","pieceOb","fillStyle","fillRect","items","x","dir","clone","i","length","clonearray","j","push","event","keyCode","moveitem","transposeitem","dropitem","pieceI","pieceJ","pieceL","pieceS","pieceT","pieceO","pieceZ","pieces","piecescolor","Piece","randomPiece","Array","fill","Math","floor","random","search","Board","createMatrix","matrix","splice","unshift","includes","transpose","map","reverse","bang"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 157a38e3db12e31a0c22","import Controller from './control.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\nconst canvas = document.getElementById('canvas');\nconst control = new Controller(canvas);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/index.js","import Piece from './pieces.js';\nimport Board from './board.js';\nimport {bang, transpose} from './helper.js';\n\nclass Controller {\n  constructor(canvas) {\n    this.counter = 0;\n    this.canvas = canvas;\n    this.piece = new Piece();\n    this.board = new Board();\n    this.score = 0;\n    this.showscore();\n    this.keyboard = this.keyboard.bind(this);\n    this.dropdown = this.dropdown.bind(this);\n    this.keyboard();\n    const drop = setInterval(this.dropdown, 10);\n  }\n\n  showscore() {\n    const scoreboard = document.getElementById('scoreboard');\n    var ctx = scoreboard.getContext(\"2d\");\n    ctx.font = \"30px Arial\";\n    ctx.clearRect(0,0,200,200);\n    ctx.fillText(`score: ${this.board.score}`,10,50);\n  }\n\n  dropdown() {\n    this.counter += 10;\n    if (this.counter === 500) {\n      this.counter = 0;\n      let nextPiece = Object.assign({},this.piece.piece);\n      nextPiece.y += 30;\n      if (bang(nextPiece, this.board.board)) {\n        this.removeBoard(this.board.board);\n        this.removeItems(this.piece.piece);\n        this.board.merge(this.piece.piece);\n        this.board.linetest();\n        this.showscore();\n        this.score = this.board.score;\n        if (this.board.gameover()) {\n          this.board = new Board();\n          this.piece = new Piece();\n          this.piece.y -= 30;\n          this.showscore();\n        } else {\n        this.piece = new Piece(this.board.board);\n        this.counter = 0;\n        }\n        this.displayBoard(this.board.board);\n      }\n      this.removeItems(this.piece.piece);\n      this.piece.piece.y += 30;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n\n\n  removeBoard(board) {\n    board.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.clearRect(30 * posy, 30 * posx, 30, 30);\n        }\n      });\n    });\n  }\n\n\n\n  displayBoard(board) {\n    board.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.fillStyle = \"red\";\n          pieceOb.fillRect(30 * posy, 30 * posx, 30, 30);\n        }\n      });\n    });\n  }\n\n\n  removeItems(items) {\n    items.piece.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.clearRect(items.x + 30 * posy, items.y + 30 * posx, 30, 30);\n        }\n      });\n    });\n  }\n\n\n\n  displayItems(items) {\n    items.piece.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.fillStyle = \"red\";\n          pieceOb.fillRect(items.x + 30 * posy, items.y + 30 * posx, 30, 30);\n        }\n      });\n    });\n  }\n\n  moveitem(dir) {\n    let nextPiece = Object.assign({},this.piece.piece);\n    nextPiece.x += dir;\n    if (!bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.x += dir;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  dropitem() {\n    let nextPiece = Object.assign({},this.piece.piece);\n    nextPiece.y += 30;\n    if (!bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.y += 30;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  transposeitem() {\n    let nextPiece = Object.assign({},this.piece.piece);\n    let clone = [];\n    for (let i = 0; i < this.piece.piece.piece.length; i++) {\n      let clonearray = [];\n      for (let j = 0; j < this.piece.piece.piece.length; j++) {\n        clonearray.push(this.piece.piece.piece[i][j]);\n      }\n      clone.push(clonearray);\n    }\n    transpose(clone);\n    nextPiece.piece = clone;\n    if (!bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.piece = transpose(this.piece.piece.piece);\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n\n\n  keyboard() {\n    document.addEventListener('keydown', (event) => {\n        //left\n      if(event.keyCode === 37) {\n        this.moveitem(-30);\n      }\n      //top\n      else if(event.keyCode === 38) {\n          this.transposeitem();\n      }\n      //right\n      else if(event.keyCode === 39) {\n          this.moveitem(+30);\n      }\n      //bottom\n      else if(event.keyCode === 40) {\n          this.dropitem();\n      }\n    });\n  }\n}\n\nexport default Controller;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/control.js","import {bang, transpose} from './helper';\n\nconst pieceI = [\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n];\nconst pieceJ = [\n  [0, 1, 0],\n  [0, 1, 0],\n  [1, 1, 0]\n];\nconst pieceL = [\n  [0, 1, 0],\n  [0, 1, 0],\n  [0, 1, 1]\n];\n\nconst pieceS = [\n  [0, 1, 1],\n  [1, 1, 0],\n  [0, 0, 0]\n];\nconst pieceT = [\n  [0, 0, 0],\n  [1, 1, 1],\n  [0, 1, 0]\n];\nconst pieceO = [\n  [1, 1],\n  [1, 1]\n];\nconst pieceZ = [\n  [1, 1, 0],\n  [0, 1, 1],\n  [0, 0, 0]\n];\n\nconst pieces = [pieceZ, pieceO, pieceS, pieceT, pieceI, pieceJ, pieceL];\nconst piecescolor = [pieceZ, pieceO, pieceS, pieceT, pieceI, pieceJ, pieceL];\n\nclass Piece {\n  constructor(board = []) {\n    this.piece = {x: 120, y: 0, piece: this.randomPiece()};\n    this.board = board;\n    this.score = new Array(7).fill(0);\n  }\n  randomPiece() {\n    return pieces[Math.floor(Math.random()*pieces.length)];\n  }\n\n  nextPiece() {\n    for(let x = 0; x < this.board[0].length; x++) {\n      const y = this.search(this.board, x);\n    }\n  }\n\n  search(board, x) {\n    for(let y = 0; y < this.board.length; x++) {\n      if (board[x][y] === 1) {\n        return y;\n      }\n    }\n    return 19;\n  }\n\n  linetest(x, board) {\n    \n  }\n\n}\n\nexport default Piece;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/pieces.js","class Board {\n  constructor() {\n    this.board = this.createMatrix();\n    this.merge = this.merge.bind(this);\n    this.score = 0;\n  }\n\n  merge(piece) {\n    for(let x = 0; x < piece.piece.length; x++) {\n      for(let y = 0; y < piece.piece[0].length; y++) {\n        if (piece.piece[y][x] !== 0) {\n          this.board[y + piece.y/30][x + piece.x/30] = piece.piece[y][x];\n        }\n      }\n    }\n  }\n\n  createMatrix() {\n    const matrix = [];\n    for (let i = 0; i < 20; i++) {\n      matrix.push(new Array(10).fill(0));\n    }\n    return matrix;\n  }\n\n  linetest() {\n    row: for (let i = 0; i < this.board.length; i++) {\n      for (let j = 0; j < this.board[0].length; j++) {\n        if (this.board[i][j] === 0) {\n          continue row;\n        }\n      }\n      this.board.splice(i, 1);\n      this.score += 100;\n      this.board.unshift(new Array(10).fill(0));\n    }\n  }\n\n  gameover() {\n    return this.board[5].includes(1);\n  }\n\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/board.js","export const transpose = (matrix) => {\n    for(let i = 0; i < matrix.length; i++) {\n      for(let j = i; j < matrix[0].length; j++) {\n        [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];\n      }\n    }\n    matrix.map((row) => row.reverse());\n    return matrix;\n};\n\nexport const bang = (piece, board) => {\n  for(let x = 0; x < piece.piece.length; x++) {\n    for(let y = 0; y < piece.piece[0].length; y++) {\n      if (piece.piece[y][x] !== 0 && (board[y + piece.y/30]\n        && board[y + piece.y/30][x + piece.x/30]) !== 0) {\n          return true;\n        }\n    }\n  }\n  return false;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/helper.js"],"sourceRoot":""}