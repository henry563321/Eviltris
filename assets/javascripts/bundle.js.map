{"version":3,"sources":["webpack/bootstrap 5b9867c7d5adf12723cd","./frontend/index.js","./frontend/control.js","./frontend/pieces.js","./frontend/board.js"],"names":["document","addEventListener","canvas","getElementById","control","Controller","counter","piece","board","keyboard","bind","dropdown","drop","setInterval","nextPiece","Object","assign","y","bang","removeBoard","removeItems","merge","displayBoard","displayItems","x","length","forEach","row","posx","item","posy","pieceOb","getContext","clearRect","fillStyle","fillRect","items","dir","clone","i","clonearray","j","push","transpose","matrix","map","reverse","event","keyCode","moveitem","transposeitem","dropitem","pieceI","pieceJ","pieceL","pieceS","pieceT","pieceO","pieceZ","pieces","Piece","randomPiece","Math","floor","random","Board","createMatrix","Array","fill"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5b9867c7d5adf12723cd","import Controller from './control.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\nconst canvas = document.getElementById('canvas');\nconst control = new Controller(canvas);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/index.js","import Piece from './pieces.js';\nimport Board from './board.js';\n\nclass Controller {\n  constructor(canvas) {\n    this.counter = 0;\n    this.canvas = canvas;\n    this.piece = new Piece();\n    this.board = new Board();\n    this.keyboard = this.keyboard.bind(this);\n    this.dropdown = this.dropdown.bind(this);\n    this.keyboard();\n    const drop = setInterval(this.dropdown, 10);\n  }\n\n  dropdown() {\n    this.counter += 10;\n    if (this.counter === 500) {\n      this.counter = 0;\n      let nextPiece = Object.assign({},this.piece.piece);\n      nextPiece.y += 15;\n      if (this.bang(nextPiece, this.board.board)) {\n        this.removeBoard(this.board.board);\n        this.removeItems(this.piece.piece);\n        this.board.merge(this.piece.piece);\n        this.displayBoard(this.board.board);\n        this.piece = new Piece();\n        this.counter = 0;\n      }\n      this.removeItems(this.piece.piece);\n      this.piece.piece.y += 15;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  bang(piece, board) {\n    for(let x = 0; x < piece.piece.length; x++) {\n      for(let y = 0; y < piece.piece[0].length; y++) {\n        if (piece.piece[y][x] !== 0 && (board[y + piece.y/15]\n          && board[y + piece.y/15][x + piece.x/15]) !== 0) {\n            return true;\n          }\n      }\n    }\n    return false;\n  }\n\n  removeBoard(board) {\n    board.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.clearRect(15 * posy, 15 * posx, 15, 15);\n        }\n      });\n    });\n  }\n\n\n\n  displayBoard(board) {\n    board.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.fillStyle = \"red\";\n          pieceOb.fillRect(15 * posy, 15 * posx, 15, 15);\n        }\n      });\n    });\n  }\n\n\n  removeItems(items) {\n    items.piece.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.clearRect(items.x + 15 * posy, items.y + 15 * posx, 15, 15);\n        }\n      });\n    });\n  }\n\n\n\n  displayItems(items) {\n    items.piece.forEach( (row, posx) => {\n      row.forEach((item, posy) => {\n        if(item !== 0) {\n          var pieceOb = this.canvas.getContext('2d');\n          pieceOb.fillStyle = \"red\";\n          pieceOb.fillRect(items.x + 15 * posy, items.y + 15 * posx, 15, 15);\n        }\n      });\n    });\n  }\n\n  moveitem(dir) {\n    let nextPiece = Object.assign({},this.piece.piece);\n    nextPiece.x += dir;\n    if (!this.bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.x += dir;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  dropitem() {\n    let nextPiece = Object.assign({},this.piece.piece);\n    nextPiece.y += 15;\n    if (!this.bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.y += 15;\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  transposeitem() {\n    let nextPiece = Object.assign({},this.piece.piece);\n    let clone = [];\n    for (let i = 0; i < this.piece.piece.piece.length; i++) {\n      let clonearray = [];\n      for (let j = 0; j < this.piece.piece.piece.length; j++) {\n        clonearray.push(this.piece.piece.piece[i][j]);\n      }\n      clone.push(clonearray);\n    }\n    this.transpose(clone);\n    nextPiece.piece = clone;\n    if (!this.bang(nextPiece, this.board.board)) {\n      this.removeItems(this.piece.piece);\n      this.piece.piece.piece = this.transpose(this.piece.piece.piece);\n      this.displayItems(this.piece.piece);\n    }\n  }\n\n  transpose(matrix) {\n    for(let i = 0; i < matrix.length; i++) {\n      for(let j = i; j < matrix[0].length; j++) {\n        [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];\n      }\n    }\n    matrix.map((row) => row.reverse());\n    return matrix;\n  }\n\n  keyboard() {\n    document.addEventListener('keydown', (event) => {\n        //left\n      if(event.keyCode === 37) {\n        this.moveitem(-15);\n      }\n      //top\n      else if(event.keyCode === 38) {\n          this.transposeitem();\n      }\n      //right\n      else if(event.keyCode === 39) {\n          this.moveitem(+15);\n      }\n      //bottom\n      else if(event.keyCode === 40) {\n          this.dropitem();\n      }\n    });\n  }\n}\n\nexport default Controller;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/control.js","const pieceI = [\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n  [0, 1, 0, 0],\n];\nconst pieceJ = [\n  [0, 1, 0],\n  [0, 1, 0],\n  [1, 1, 0]\n];\nconst pieceL = [\n  [0, 1, 0],\n  [0, 1, 0],\n  [0, 1, 1]\n];\n\nconst pieceS = [\n  [0, 1, 1],\n  [1, 1, 0],\n  [0, 0, 0]\n];\nconst pieceT = [\n  [0, 0, 0],\n  [1, 1, 1],\n  [0, 1, 0]\n];\nconst pieceO = [\n  [1, 1],\n  [1, 1]\n];\nconst pieceZ = [\n  [1, 1, 0],\n  [0, 1, 1],\n  [0, 0, 0]\n];\n\nconst pieces = [pieceZ, pieceO, pieceS, pieceT, pieceI, pieceJ, pieceL];\n\nclass Piece {\n  constructor() {\n    this.piece = {x: 135, y: 0, piece: this.randomPiece()};\n  }\n  randomPiece() {\n    return pieces[Math.floor(Math.random()*pieces.length)];\n  }\n\n}\n\nexport default Piece;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/pieces.js","class Board {\n  constructor() {\n    this.board = this.createMatrix();\n    this.merge = this.merge.bind(this);\n  }\n\n  merge(piece) {\n    for(let x = 0; x < piece.piece.length; x++) {\n      for(let y = 0; y < piece.piece[0].length; y++) {\n        if (piece.piece[y][x] !== 0) {\n          this.board[y + piece.y/15][x + piece.x/15] = piece.piece[y][x];\n        }\n      }\n    }\n  }\n\n  createMatrix() {\n    const matrix = [];\n    for (let i = 0; i < 40; i++) {\n      matrix.push(new Array(20).fill(0));\n    }\n    return matrix;\n  }\n\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/board.js"],"sourceRoot":""}